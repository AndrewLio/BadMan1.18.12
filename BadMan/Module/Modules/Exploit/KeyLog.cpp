#include "KeyLog.h"
#include <iostream>
using namespace std;

KeyLog::KeyLog() : IModule(0x0, Category::EXPLOIT, u8"´©Ç½") {
}

KeyLog::~KeyLog() {
}

const char* KeyLog::getModuleName() {
	return ("KeyLog");
}

void StringLoad() {
	
	int DownKey = 0;
	auto keymod = moduleMgr->getModule<KeyLog>();
	//´óÐ´26×ÖÄ¸
	if (GameData::isKeyDown('A'))
		keymod->str = "A";
	else if (GameData::isKeyDown('B'))
		keymod->str = "B";
	else if (GameData::isKeyDown('C'))
		keymod->str = "C";
	else if (GameData::isKeyDown('D'))
		keymod->str = "D";
	else if (GameData::isKeyDown('E'))
		keymod->str = "E";
	else if (GameData::isKeyDown('F'))
		keymod->str = "F";
	else if (GameData::isKeyDown('G'))
		keymod->str = "G";
	else if (GameData::isKeyDown('H'))
		keymod->str = "H";
	else if (GameData::isKeyDown('I'))
		keymod->str = "I";
	else if (GameData::isKeyDown('J'))
		keymod->str = "J";
	else if (GameData::isKeyDown('K'))
		keymod->str = "K";
	else if (GameData::isKeyDown('L'))
		keymod->str = "L";
	else if (GameData::isKeyDown('M'))
		keymod->str = "M";
	else if (GameData::isKeyDown('N'))
		keymod->str = "N";
	else if (GameData::isKeyDown('O'))
		keymod->str = "O";
	else if (GameData::isKeyDown('P'))
		keymod->str = "P";
	else if (GameData::isKeyDown('Q'))
		keymod->str = "Q";
	else if (GameData::isKeyDown('R'))
		keymod->str = "R";
	else if (GameData::isKeyDown('S'))
		keymod->str = "S";
	else if (GameData::isKeyDown('T'))
		keymod->str = "T";
	else if (GameData::isKeyDown('U'))
		keymod->str = "U";
	else if (GameData::isKeyDown('V'))
		keymod->str = "V";
	else if (GameData::isKeyDown('W'))
		keymod->str = "W";
	else if (GameData::isKeyDown('X'))
		keymod->str = "X";
	else if (GameData::isKeyDown('Y'))
		keymod->str = "Y";
	else if (GameData::isKeyDown('Z'))
		keymod->str = "Z";

	//Ð¡Ð´
	else if (GameData::isKeyDown('a'))
		keymod->str = "a";
	else if (GameData::isKeyDown('b'))
		keymod->str = "b";
	else if (GameData::isKeyDown('c'))
		keymod->str = "c";
	else if (GameData::isKeyDown('d'))
		keymod->str = "d";
	else if (GameData::isKeyDown('e'))
		keymod->str = "e";
	else if (GameData::isKeyDown('f'))
		keymod->str = "f";
	else if (GameData::isKeyDown('g'))
		keymod->str = "g";
	else if (GameData::isKeyDown('h'))
		keymod->str = "h";
	else if (GameData::isKeyDown('i'))
		keymod->str = "i";
	else if (GameData::isKeyDown('j'))
		keymod->str = "j";
	else if (GameData::isKeyDown('k'))
		keymod->str = "k";
	else if (GameData::isKeyDown('l'))
		keymod->str = "l";
	else if (GameData::isKeyDown('m'))
		keymod->str = "m";
	else if (GameData::isKeyDown('n'))
		keymod->str = "n";
	else if (GameData::isKeyDown('o'))
		keymod->str = "o";
	else if (GameData::isKeyDown('p'))
		keymod->str = "p";
	else if (GameData::isKeyDown('q'))
		keymod->str = "q";
	else if (GameData::isKeyDown('r'))
		keymod->str = "r";
	else if (GameData::isKeyDown('s'))
		keymod->str = "s";
	else if (GameData::isKeyDown('t'))
		keymod->str = "t";
	else if (GameData::isKeyDown('u'))
		keymod->str = "u";
	else if (GameData::isKeyDown('v'))
		keymod->str = "v";
	else if (GameData::isKeyDown('w'))
		keymod->str = "w";
	else if (GameData::isKeyDown('x'))
		keymod->str = "x";
	else if (GameData::isKeyDown('i'))
		keymod->str = "y";
	else if (GameData::isKeyDown('z'))
		keymod->str = "z";

		//´ó¼üÅÌÊý×Ö
	else if (GameData::isKeyDown('1'))
		keymod->str = "1";
	else if (GameData::isKeyDown('2'))
		keymod->str = "2";
	else if (GameData::isKeyDown('3'))
		keymod->str = "3";
	else if (GameData::isKeyDown('4'))
		keymod->str = "4";
	else if (GameData::isKeyDown('5'))
		keymod->str = "5";
	else if (GameData::isKeyDown('6'))
		keymod->str = "6";
	else if (GameData::isKeyDown('7'))
		keymod->str = "7";
	else if (GameData::isKeyDown('8'))
		keymod->str = "8";
	else if (GameData::isKeyDown('9'))
		keymod->str = "9";
	else if (GameData::isKeyDown('0'))
		keymod->str = "0";

		//Ð¡¼üÅÌÊý×Ö
	else if (GameData::isKeyDown(VK_NUMPAD0))
		keymod->str = "0";
	else if (GameData::isKeyDown(VK_NUMPAD1))
		keymod->str = "1";
	else if (GameData::isKeyDown(VK_NUMPAD2))
		keymod->str = "2";
	else if (GameData::isKeyDown(VK_NUMPAD3))
		keymod->str = "3";
	else if (GameData::isKeyDown(VK_NUMPAD4))
		keymod->str = "4";
	else if (GameData::isKeyDown(VK_NUMPAD5))
		keymod->str = "5";
	else if (GameData::isKeyDown(VK_NUMPAD6))
		keymod->str = "6";
	else if (GameData::isKeyDown(VK_NUMPAD7))
		keymod->str = "7";
	else if (GameData::isKeyDown(VK_NUMPAD8))
		keymod->str = "8";
	else if (GameData::isKeyDown(VK_NUMPAD9))
		keymod->str = "9";

		//Ð¡¼üÅÌ¹¦ÄÜ°´¼ü
	else if (GameData::isKeyDown(VK_CAPITAL))
		keymod->str = " Capital ";
	else if (GameData::isKeyDown(VK_SPACE))
		keymod->str = " Space ";
	else if (GameData::isKeyDown(13))
		keymod->str = " Enter ";
	else if (GameData::isKeyDown(108))
		keymod->str = " Enter ";
	else if (GameData::isKeyDown(106))
		keymod->str = "*";
	else if (GameData::isKeyDown(107))
		keymod->str = "+";
	else if (GameData::isKeyDown(109))
		keymod->str = "-";
	else if (GameData::isKeyDown(110))
		keymod->str = ".";
	else if (GameData::isKeyDown(111))
		keymod->str = "/";
	//´ó¼üÅÌ·ûºÅ
	else if (GameData::isKeyDown(16))
		keymod->str = " shift ";
	else if (GameData::isKeyDown(186))
		keymod->str = " ; ";
	else if (GameData::isKeyDown(187))
		keymod->str = "=";
	else if (GameData::isKeyDown(190))
		keymod->str = ".";
	else if (GameData::isKeyDown(191))
		keymod->str = "/";
	else if (GameData::isKeyDown(219))
		keymod->str = "[";
	else if (GameData::isKeyDown(220))
		keymod->str = "|";
	else if (GameData::isKeyDown(192))
		keymod->str = "`";
	else if (GameData::isKeyDown(221))
		keymod->str = "]";
/*
		char buf[1024];
		int i;
		for (i = 0; i < keymod->str.length(); i++)
			buf[i] = keymod->str[i];
		buf[i] = '\0';
		printf("%s\n", buf);
		cout << buf;*/
}
void KeyLog::onTick(C_GameMode* gm) {
	StringLoad();
	clientMessageF(str.c_str());
}

void KeyLog::onDisable() {
}

void KeyLog::onEnable()
{
}
